<html>
    <head>
        <meta charset="utf-8" />
        <title>Quinn Freedman Â· Generative Art Experements</title>
        <!-- <script type="text/javscript" src="https://github.com/gorhill/Javascript-Voronoi/blob/41a3cae6178385836187fdacd760b6abc96cc6d9/rhill-voronoi-core.min.js"></script> -->
        <script src="voronoi.js"></script>
        <!-- <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/836/simplex-noise.min.js"></script> -->
        <script src="simplex-noise.min.js"></script>
        <script src="util.js"></script>
        <script src="one.js"></script>
        <script src="two.js"></script>
        <script src="three.js"></script>
        <script src="four.js"></script>
        <script src="five.js"></script>
        <script src="six.js"></script>
        <script src="seven.js"></script>
        <script src="eight.js"></script>
        <script src="nine.js"></script>
        <style type="text/css">
            body {
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
            }

            #title {
                font-family: Roboto, Arial, Helvetica, sans-serif;
                font-size: 2em;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas"></canvas>
        <h1 id="title"></h1>
        <script>
            const numbers = [
                "one",
                "two",
                "three",
                "four",
                "five",
                "six",
                "seven",
                "eight",
                "nine",
                "ten"
            ]

            const params = new URL(document.location).searchParams
            let n = params.get("n") || numbers[numbers.length - 1]
            const seed = params.get("seed")
            const makeRng = () => (seed ? new RNG(parseInt(seed)) : new RNG()) //RNG(0xdef)
            let rng = makeRng()
            console.log(n)
            console.log("seed:", rng.seed)
            document.getElementById("title").innerText = n
            let deInit = window[n](rng)
            document.querySelector("canvas").addEventListener("click", () => {
                deInit && deInit()
                rng = makeRng()
                console.log("seed:", rng.seed)
                deInit = window[n](rng)
            })

            function go_to(index) {
                n = numbers[index]
                deInit && deInit()
                rng = makeRng()
                console.log(n)
                console.log("seed:", rng.seed)
                deInit = window[n](rng)
                document.getElementById("title").innerText = n
            }

            document.addEventListener("keydown", e => {
                if (e.key === "ArrowLeft") {
                    let index = numbers.indexOf(n)
                    if (index > 0) {
                        go_to(index - 1)
                    }
                } else if (e.key === "ArrowRight") {
                    let index = numbers.indexOf(n)
                    if (index >= 0 && index + 1 < numbers.length) {
                        go_to(index + 1)
                    }
                }
            })
        </script>
    </body>
</html>
